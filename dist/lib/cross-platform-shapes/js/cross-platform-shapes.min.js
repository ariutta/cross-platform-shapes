!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require){(function(){var objectTypes={"function":!0,object:!0},root=objectTypes[typeof window]&&window||this,crossPlatformShapes=require("./lib/cross-platform-shapes");root.crossPlatformShapes=crossPlatformShapes}).call(this)},{"./lib/cross-platform-shapes":3}],2:[function(require,module){module.exports={}},{}],3:[function(require,module){var _=require("lodash"),crossPlatformShapes={presetShapes:require("./preset-shapes/preset-shapes"),svg:require("./svg/svg"),canvas:require("./canvas/canvas"),customShapes:require("./custom-shapes"),getInstance:function(args){var format,crossPlatformShapesInstance=_.cloneDeep(this),customShapes=args.customShapes,targetSelector=args.targetSelector,targetElement=document.querySelector(targetSelector),targetTagName=targetElement.tagName.toLowerCase();return format="div"===targetTagName?args.format:targetTagName,args.targetElement=targetElement,args.targetTagName=targetTagName,crossPlatformShapesInstance[format]=crossPlatformShapesInstance[format].getInstance(crossPlatformShapesInstance,args),crossPlatformShapesInstance[format].targetTagName=targetTagName,_.forIn(crossPlatformShapes.presetShapes,function(value,presetShapeName){crossPlatformShapesInstance[presetShapeName]=function(data,callback){return crossPlatformShapesInstance[format].path.render(crossPlatformShapesInstance,presetShapeName,data,callback)}}),customShapes&&(crossPlatformShapesInstance.customShapes=customShapes,_.forIn(customShapes,function(value,customShapeName){crossPlatformShapesInstance[customShapeName]=function(data,callback){return crossPlatformShapesInstance[format].image.render(crossPlatformShapesInstance,customShapeName,data,callback)}})),crossPlatformShapesInstance}};module.exports=crossPlatformShapes},{"./canvas/canvas":2,"./custom-shapes":4,"./preset-shapes/preset-shapes":35,"./svg/svg":45,lodash:46}],4:[function(require,module){module.exports={arc:{href:"http://www.example.org/arc.png"},brace:{href:"http://www.example.org/brace.png"},rectangle:{href:"http://www.example.org/rectangle.png"}}},{}],5:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,yControlPoint=height*(2/3),pathData=[{command:"moveTo",points:[x,y]},{command:"bezierCurveTo",points:[x,y+yControlPoint,x+width,y+yControlPoint,x+width,y]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],6:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x,y]},{command:"lineTo",points:[x+width,y+height/2]},{command:"lineTo",points:[x,y+height]},{command:"closePath",points:[]}];return pathData}function getDimensions(){return{markerWidth:12,markerHeight:12}}return{getPathSegments:getPathSegments,getDimensions:getDimensions}}()},{}],7:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x,y+height]},{command:"bezierCurveTo",points:[x,y,x+width/2,y+height,x+width/2,y]},{command:"bezierCurveTo",points:[x+width/2,y+height,x+width,y,x+width,y+height]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],8:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x+18,y]},{command:"lineTo",points:[x+width-18,y]},{command:"lineTo",points:[x+width,y+18]},{command:"lineTo",points:[x+width,y+height-18]},{command:"lineTo",points:[x+width-18,y+height]},{command:"lineTo",points:[x+18,y+height]},{command:"lineTo",points:[x,y+height-18]},{command:"lineTo",points:[x,y+18]},{command:"closePath",points:[]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],9:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,cx=x+width/2,cy=y+height/2,width_two_thirds=2*width/3,height_over_2=height/2,pathData=[{command:"moveTo",points:[cx,cy-height_over_2]},{command:"bezierCurveTo",points:[cx+width_two_thirds,cy-height_over_2,cx+width_two_thirds,cy+height_over_2,cx,cy+height_over_2]},{command:"bezierCurveTo",points:[cx-width_two_thirds,cy+height_over_2,cx-width_two_thirds,cy-height_over_2,cx,cy-height_over_2]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],10:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var outerEllipse=crossPlatformShapesInstance.presetShapes.ellipse.getPathSegments(crossPlatformShapesInstance,data),innerEllipseData=data,doubleLineGap=2*data.borderWidth||6;innerEllipseData.x=data.x+doubleLineGap,innerEllipseData.y=data.y+doubleLineGap,innerEllipseData.width=data.width-2*doubleLineGap,innerEllipseData.height=data.height-2*doubleLineGap;var innerEllipse=crossPlatformShapesInstance.presetShapes.ellipse.getPathSegments(crossPlatformShapesInstance,innerEllipseData),pathData=outerEllipse.concat(innerEllipse);return pathData}return{getPathSegments:getPathSegments}}()},{}],11:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x,y]},{command:"lineTo",points:[x+width,y]},{command:"lineTo",points:[x+width,y+height]},{command:"lineTo",points:[x,y+height]},{command:"closePath",points:[]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],12:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x,y]},{command:"lineTo",points:[x+width,y]},{command:"lineTo",points:[x+width,y+height]},{command:"lineTo",points:[x,y+height]},{command:"closePath",points:[]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],13:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x+.25*width,y]},{command:"lineTo",points:[x+.75*width,y]},{command:"lineTo",points:[x+width,y+.5*height]},{command:"lineTo",points:[x+.75*width,y+height]},{command:"lineTo",points:[x+.25*width,y+height]},{command:"lineTo",points:[x,y+.5*height]},{command:"closePath",points:[]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],14:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){for(var catmullRomPoints=data.points,pointCount=catmullRomPoints.length,firstCatmullRomPointWithNoOffset=catmullRomPoints[0],pathData=[{command:"moveTo",points:[firstCatmullRomPointWithNoOffset.x,firstCatmullRomPointWithNoOffset.y]}],i=0;pointCount-1>i;i++){var p=[];0===i?(p.push({x:parseFloat(catmullRomPoints[i].x),y:parseFloat(catmullRomPoints[i].y)}),p.push({x:parseFloat(catmullRomPoints[i].x),y:parseFloat(catmullRomPoints[i].y)}),p.push({x:parseFloat(catmullRomPoints[i+1].x),y:parseFloat(catmullRomPoints[i+1].y)}),p.push({x:parseFloat(catmullRomPoints[i+2].x),y:parseFloat(catmullRomPoints[i+2].y)})):i===pointCount-2?(p.push({x:parseFloat(catmullRomPoints[i-1].x),y:parseFloat(catmullRomPoints[i-1].y)}),p.push({x:parseFloat(catmullRomPoints[i].x),y:parseFloat(catmullRomPoints[i].y)}),p.push({x:parseFloat(catmullRomPoints[i+1].x),y:parseFloat(catmullRomPoints[i+1].y)}),p.push({x:parseFloat(catmullRomPoints[i+1].x),y:parseFloat(catmullRomPoints[i+1].y)})):(p.push({x:parseFloat(catmullRomPoints[i-1].x),y:parseFloat(catmullRomPoints[i-1].y)}),p.push({x:parseFloat(catmullRomPoints[i].x),y:parseFloat(catmullRomPoints[i].y)}),p.push({x:parseFloat(catmullRomPoints[i+1].x),y:parseFloat(catmullRomPoints[i+1].y)}),p.push({x:parseFloat(catmullRomPoints[i+2].x),y:parseFloat(catmullRomPoints[i+2].y)}));var bezierPoints=[];bezierPoints.push([(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6]),bezierPoints.push([(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6]),bezierPoints.push([p[2].x,p[2].y]),pathData.push({command:"bezierCurveTo",points:bezierPoints})}return pathData}function getPointAtPosition(){return{x:0,y:0}}return{getPathSegments:getPathSegments,getPointAtPosition:getPointAtPosition}}()},{}],15:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function d3_svg_lineBasisBezier(pathData,x,y){var pointsForBezier=[];pointsForBezier.push([d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),d3_svg_lineDot4(d3_svg_lineBasisBezier1,y)]),pointsForBezier.push([d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),d3_svg_lineDot4(d3_svg_lineBasisBezier2,y)]),pointsForBezier.push([d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),d3_svg_lineDot4(d3_svg_lineBasisBezier3,y)]),pathData.push({command:"bezierCurveTo",points:pointsForBezier})}function changeDirection(currentDirection){var xDirection=Math.abs(Math.abs(currentDirection[0])-1),yDirection=Math.abs(Math.abs(currentDirection[1])-1);return[xDirection,yDirection]}var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6],elbowPoints=data.points,elbowPointCount=elbowPoints.length,firstPoint=elbowPoints[0],lastPoint=elbowPoints[elbowPointCount-1],points=[];points.push(firstPoint);var lastSegment=[],pathData=[{command:"moveTo",points:[firstPoint.x,firstPoint.y]}],direction=[];firstPoint.anchor?(direction.push(firstPoint.anchor[2]),direction.push(firstPoint.anchor[3])):(direction=[1,0],console.warn('No anchor specified for edge "'+data.id+'"'));var markerHeightFactor=.75,markerStart=data.markerStart;if(markerStart&&firstPoint.anchor&&"undefined"!=typeof firstPoint.anchor[2]&&"undefined"!=typeof firstPoint.anchor[3]&&crossPlatformShapesInstance.presetShapes[markerStart]){var firstOffset,firstPointWithOffset={},firstMarkerData=crossPlatformShapesInstance.presetShapes[markerStart].getDimensions(crossPlatformShapesInstance);firstOffset=firstMarkerData?markerHeightFactor*firstMarkerData.markerHeight:12,firstPointWithOffset.x=firstPoint.anchor[2]*firstOffset+firstPoint.x,firstPointWithOffset.y=firstPoint.anchor[3]*firstOffset+firstPoint.y,pathData.push({command:"lineTo",points:[firstPointWithOffset.x,firstPointWithOffset.y]}),points[0]=firstPointWithOffset}var markerEnd=data.markerEnd;if(markerEnd&&lastPoint.anchor&&"undefined"!=typeof lastPoint.anchor[2]&&"undefined"!=typeof lastPoint.anchor[3]&&crossPlatformShapesInstance.presetShapes[markerEnd]){lastSegment.push({command:"lineTo",points:[lastPoint.x,lastPoint.y]});var lastOffset,lastPointWithOffset={},lastMarkerData=crossPlatformShapesInstance.presetShapes[markerEnd].getDimensions(crossPlatformShapesInstance);lastOffset=lastMarkerData?markerHeightFactor*lastMarkerData.markerHeight:12,lastPointWithOffset.x=lastPoint.anchor[2]*lastOffset+lastPoint.x,lastPointWithOffset.y=lastPoint.anchor[3]*lastOffset+lastPoint.y,elbowPoints[elbowPointCount-1]=lastPoint=lastPointWithOffset}elbowPoints.forEach(function(elbowPoint,index){var x0,y0;index>0&&elbowPointCount>index&&(x0=Math.abs(direction[0])*(elbowPoints[index].x-elbowPoints[index-1].x)+elbowPoints[index-1].x,y0=Math.abs(direction[1])*(elbowPoints[index].y-elbowPoints[index-1].y)+elbowPoints[index-1].y,points.push({x:x0,y:y0}),direction=changeDirection(direction))}),points.push(lastPoint);var i=1,n=points.length,pi=points[0],x0=pi.x,y0=pi.y,px=[x0,x0,x0,(pi=points[1]).x],py=[y0,y0,y0,pi.y];for(pathData.push({command:"lineTo",points:[d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)]}),points.push(points[n-1]);++i<=n;)pi=points[i],px.shift(),px.push(pi.x),py.shift(),py.push(pi.y),d3_svg_lineBasisBezier(pathData,px,py);return points.pop(),pathData.push({command:"lineTo",points:[pi.x,pi.y]}),pathData=pathData.concat(lastSegment)}function getPointAtPosition(){return{x:0,y:0}}return{getPathSegments:getPathSegments,getPointAtPosition:getPointAtPosition}}()},{}],16:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){function changeDirection(currentDirection){var xDirection=Math.abs(Math.abs(currentDirection[0])-1),yDirection=Math.abs(Math.abs(currentDirection[1])-1);return[xDirection,yDirection]}var points=data.points,pointCount=points.length,firstPoint=points[0],lastPoint=points[pointCount-1],pathData=[{command:"moveTo",points:[firstPoint.x,firstPoint.y]}],direction=[];return firstPoint.anchor?(direction.push(firstPoint.anchor[2]),direction.push(firstPoint.anchor[3])):(direction=[1,0],console.warn('No anchor specified for edge "'+data.id+'"')),points.forEach(function(point,index){if(index>0&&pointCount>index){var x0=Math.abs(direction[0])*(points[index].x-points[index-1].x)+points[index-1].x,y0=Math.abs(direction[1])*(points[index].y-points[index-1].y)+points[index-1].y;pathData.push({command:"lineTo",points:[x0,y0]}),direction=changeDirection(direction)}}),pathData.push({command:"lineTo",points:[lastPoint.x,lastPoint.y]}),pathData}function getPointAtPosition(){return{x:0,y:0}}return{getPathSegments:getPathSegments,getPointAtPosition:getPointAtPosition}}()},{}],17:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var points=data.points,firstPoint=points[0],pathData=[{command:"moveTo",points:[firstPoint.x,firstPoint.y]}];return points.forEach(function(point,index){index>0&&pathData.push({command:"lineTo",points:[point.x,point.y]})}),pathData}function getPointAtPosition(){return{x:0,y:0}}return{getPathSegments:getPathSegments,getPointAtPosition:getPointAtPosition}}()},{}],18:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x0=data.points[0].x,y0=data.points[0].y,x1=data.points[1].x,y1=data.points[1].y,pathData=[{command:"moveTo",points:[x0,y0]},{command:"lineTo",points:[x1,y1]}];return pathData}function getPointAtPosition(targetEdgeData,position){var x0=targetEdgeData.points[0].x,y0=targetEdgeData.points[0].y,x1=targetEdgeData.points[1].x,y1=targetEdgeData.points[1].y,x=x0+(x1-x0)*position,y=y0+(y1-y0)*position;return{x:x,y:y}}return{getPathSegments:getPathSegments,getPointAtPosition:getPointAtPosition}}()},{}],19:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,yControlPoint=height*(2/3),pathData=[{command:"moveTo",points:[x,y]},{command:"bezierCurveTo",points:[x,y+yControlPoint,x+width,y+yControlPoint,x+width,y]}];return pathData}function getDimensions(){return{markerWidth:12,markerHeight:12}}return{getPathSegments:getPathSegments,getDimensions:getDimensions}}()},{}],20:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,yControlPoint=height*(2/3),pathData=[{command:"moveTo",points:[x,y]},{command:"bezierCurveTo",points:[x,y+yControlPoint,x+width,y+yControlPoint,x+width,y]}];return pathData}function getDimensions(){return{markerWidth:12,markerHeight:12}}return{getPathSegments:getPathSegments,getDimensions:getDimensions}}()},{}],21:[function(require,module){module.exports=require(20)},{}],22:[function(require,module){module.exports=require(20)},{}],23:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,yControlPoint=height*(2/3),pathData=[{command:"moveTo",points:[x,y]},{command:"bezierCurveTo",points:[x,y+yControlPoint,x+width,y+yControlPoint,x+width,y]}];return pathData}function getDimensions(){return{markerWidth:20,markerHeight:30}}return{getPathSegments:getPathSegments,getDimensions:getDimensions}}()},{}],24:[function(require,module){module.exports=require(20)},{}],25:[function(require,module){module.exports=require(20)},{}],26:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,ellipse=crossPlatformShapesInstance.presetShapes.ellipse.getPathSegments(crossPlatformShapesInstance,data),line=[{command:"moveTo",points:[x,y]},{command:"lineTo",points:[x+width,y+height]}],pathData=ellipse.concat(line);return pathData}return{getPathSegments:getPathSegments}}()},{}],27:[function(require,module){module.exports=require(20)},{}],28:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,yControlPoint=height*(2/3),pathData=[{command:"moveTo",points:[x,y]},{command:"bezierCurveTo",points:[x,y+yControlPoint,x+width,y+yControlPoint,x+width,y]}];return pathData}function getDimensions(){return{markerWidth:10,markerHeight:20}}return{getPathSegments:getPathSegments,getDimensions:getDimensions}}()},{}],29:[function(require,module){module.exports=require(20)},{}],30:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,yControlPoint=height*(2/3),pathData=[{command:"moveTo",points:[x,y]},{command:"bezierCurveTo",points:[x,y+yControlPoint,x+width,y+yControlPoint,x+width,y]}];return pathData}function getDimensions(){return{markerWidth:16,markerHeight:12}}return{getPathSegments:getPathSegments,getDimensions:getDimensions}}()},{}],31:[function(require,module){module.exports=require(20)},{}],32:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,yControlPoint=height*(2/3),pathData=[{command:"moveTo",points:[x,y]},{command:"bezierCurveTo",points:[x,y+yControlPoint,x+width,y+yControlPoint,x+width,y]}];return pathData}function getDimensions(){return{markerWidth:20,markerHeight:24}}return{getPathSegments:getPathSegments,getDimensions:getDimensions}}()},{}],33:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var outerEllipse=(data.x,data.y,data.width,data.height,crossPlatformShapesInstance.presetShapes.ellips.getPathSegmentse(crossPlatformShapesInstance,data)),pathData=outerEllipse;return pathData}return{getPathSegments:getPathSegments}}()},{}],34:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x,y+.81*height]},{command:"lineTo",points:[x,y+.19*height]},{command:"lineTo",points:[x+.62*width,y]},{command:"lineTo",points:[x+width,y+.5*height]},{command:"lineTo",points:[x+.62*width,y+height]},{command:"closePath",points:[]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],35:[function(require,module){var presetShapes={arc:require("./arc"),arrow:require("./arrow"),brace:require("./brace"),complex:require("./complex"),ellipse:require("./ellipse"),ellipseDouble:require("./ellipseDouble"),endoplasmicReticulum:require("./endoplasmicReticulum"),golgiApparatus:require("./golgiApparatus"),hexagon:require("./hexagon"),lineCatmullRom:require("./lineCatmullRom"),lineCurved:require("./lineCurved"),lineElbow:require("./lineElbow"),lineSegmented:require("./lineSegmented"),lineStraight:require("./lineStraight"),mimBinding:require("./mimBinding"),mimBranchingLeft:require("./mimBranchingLeft"),mimBranchingRight:require("./mimBranchingRight"),mimCatalysis:require("./mimCatalysis"),mimCleavage:require("./mimCleavage"),mimConversion:require("./mimConversion"),mimCovalentBond:require("./mimCovalentBond"),mimDegradation:require("./mimDegradation"),mimGap:require("./mimGap"),mimInhibition:require("./mimInhibition"),mimModification:require("./mimModification"),mimNecessaryStimulation:require("./mimNecessaryStimulation"),mimStimulation:require("./mimStimulation"),mimTranscriptionTranslation:require("./mimTranscriptionTranslation"),mitochondria:require("./mitochondria"),pentagon:require("./pentagon"),rectangle:require("./rectangle"),roundedRectangle:require("./roundedRectangle"),roundedRectangleDouble:require("./roundedRectangleDouble"),sarcoplasmicReticulum:require("./sarcoplasmicReticulum"),tBar:require("./tBar"),triangle:require("./triangle")};module.exports=presetShapes},{"./arc":5,"./arrow":6,"./brace":7,"./complex":8,"./ellipse":9,"./ellipseDouble":10,"./endoplasmicReticulum":11,"./golgiApparatus":12,"./hexagon":13,"./lineCatmullRom":14,"./lineCurved":15,"./lineElbow":16,"./lineSegmented":17,"./lineStraight":18,"./mimBinding":19,"./mimBranchingLeft":20,"./mimBranchingRight":21,"./mimCatalysis":22,"./mimCleavage":23,"./mimConversion":24,"./mimCovalentBond":25,"./mimDegradation":26,"./mimGap":27,"./mimInhibition":28,"./mimModification":29,"./mimNecessaryStimulation":30,"./mimStimulation":31,"./mimTranscriptionTranslation":32,"./mitochondria":33,"./pentagon":34,"./rectangle":36,"./roundedRectangle":37,"./roundedRectangleDouble":38,"./sarcoplasmicReticulum":39,"./tBar":40,"./triangle":41}],36:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x,y]},{command:"lineTo",points:[x+width,y]},{command:"lineTo",points:[x+width,y+height]},{command:"lineTo",points:[x,y+height]},{command:"closePath",points:[]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],37:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x,y+10]},{command:"bezierCurveTo",points:[x,y+10-5.43379,x+4.56621,y,x+10,y]},{command:"lineTo",points:[x+width-10,y]},{command:"bezierCurveTo",points:[x+width-10+5.43379,y,x+width,y+4.56621,x+width,y+10]},{command:"lineTo",points:[x+width,y+height-10]},{command:"bezierCurveTo",points:[x+width,y+height-10+5.43379,x+width-4.56621,y+height,x+width-10,y+height]},{command:"lineTo",points:[x+10,y+height]},{command:"bezierCurveTo",points:[x+10-5.43379,y+height,x,y+height-4.56621,x,y+height-10]},{command:"lineTo",points:[x,y+10]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],38:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,borderWidth=data.borderWidth,outerRoundedRectangle=crossPlatformShapesInstance.presetShapes.roundedRectangle.getPathSegments(crossPlatformShapesInstance,data),innerRoundedRectangleData=data,doubleLineGap=2*borderWidth||6;innerRoundedRectangleData.x=x+doubleLineGap,innerRoundedRectangleData.y=y+doubleLineGap,innerRoundedRectangleData.width=width-2*doubleLineGap,innerRoundedRectangleData.height=height-2*doubleLineGap;var innerRoundedRectangle=crossPlatformShapesInstance.presetShapes.roundedRectangle.getPathSegments(crossPlatformShapesInstance,innerRoundedRectangleData),pathData=outerRoundedRectangle.concat(innerRoundedRectangle);return pathData}return{getPathSegments:getPathSegments}}()},{}],39:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x,y]},{command:"lineTo",points:[x+width,y]},{command:"lineTo",points:[x+width,y+height]},{command:"lineTo",points:[x,y+height]},{command:"closePath",points:[]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],40:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,height=(data.width,data.height),pathData=[{command:"moveTo",points:[x,y]},{command:"lineTo",points:[x,y+height]}];return pathData}function getDimensions(){return{markerWidth:10,markerHeight:20}}return{getPathSegments:getPathSegments,getDimensions:getDimensions}}()},{}],41:[function(require,module){module.exports=function(){"use strict";function getPathSegments(crossPlatformShapesInstance,data){var x=data.x,y=data.y,width=data.width,height=data.height,pathData=[{command:"moveTo",points:[x,y]},{command:"lineTo",points:[x+width,y+height/2]},{command:"lineTo",points:[x,y+height]},{command:"closePath",points:[]}];return pathData}return{getPathSegments:getPathSegments}}()},{}],42:[function(require,module){module.exports={render:function(crossPlatformShapesInstance,shapeName,data){var customShapes=crossPlatformShapesInstance.customShapes,shapeSelection=(crossPlatformShapesInstance.svgNS,d3.select(crossPlatformShapesInstance.targetSvg).select(data.containerSelector).append("image").attr("xlink:xlink:href",customShapes[shapeName].href).attr("x",data.x||0).attr("y",data.y||0).attr("preserveAspectRatio","none").attr("width",data.width||0).attr("height",data.height||0)),rotation=data.rotation;return rotation&&shapeSelection.attr("transform","rotate("+rotation+","+(data.x+data.width/2)+","+(data.y+data.height/2)+")"),shapeSelection[0][0]}}},{}],43:[function(require,module){module.exports={generateId:function(name,position,color){var id=("id-"+name+"-"+position+"-"+color).replace(/[^A-Za-z0-9-]/g,"").toLowerCase();return id},append:function(crossPlatformShapesInstance,name,position,color,callback){var availableMarkers=crossPlatformShapesInstance.availableMarkers,targetSvgDefs=crossPlatformShapesInstance.targetSvgDefs,backgroundColor=crossPlatformShapesInstance.backgroundColor,markerData={arrow:{shapes:[{elementTag:"rect",x:0,y:5.4,width:2,height:1.2,stroke:backgroundColor,fill:backgroundColor},{elementTag:"polygon",points:"12,11 0,6 12,1","stroke-width":0,fill:color}]},mimBinding:{shapes:[{elementTag:"rect",x:0,y:5.4,width:2,height:1.2,stroke:backgroundColor,fill:backgroundColor},{elementTag:"polygon",points:"12,12 0,6 12,0 5,6","stroke-width":0,fill:color}]},mimNecessaryStimulation:{shapes:[{elementTag:"rect",x:0,y:5.4,width:2,height:1.2,stroke:"none",fill:backgroundColor},{elementTag:"line",x1:14,y1:0,x2:14,y2:12,stroke:color,"stroke-width":1,fill:"none"},{elementTag:"line",x1:16,y1:6,x2:16,y2:6,stroke:"none",fill:"none"},{elementTag:"polygon",points:"0,6 9,11 9,1","stroke-width":1,stroke:color,fill:backgroundColor}]},mimStimulation:{shapes:[{elementTag:"rect",x:0,y:5.4,width:2,height:1.2,stroke:"none",fill:backgroundColor},{elementTag:"line",x1:12,y1:6,x2:12,y2:6,stroke:"none",fill:"none"},{elementTag:"polygon",points:"0,6 11,11 11,1","stroke-width":1,stroke:color,fill:backgroundColor}]},mimModification:{shapes:[{elementTag:"rect",x:0,y:5.4,width:2,height:1.2,stroke:backgroundColor,fill:backgroundColor},{elementTag:"polygon",points:"12,12 0,6 12,0 5,6","stroke-width":0,fill:color}]},mimCatalysis:{shapes:[{elementTag:"circle",cx:6,cy:6,r:"5.3px",stroke:color,"stroke-width":1,fill:backgroundColor}]},mimCleavage:{shapes:[{elementTag:"rect",x:0,y:14.3,width:18.4,height:1.4,stroke:backgroundColor,fill:backgroundColor},{elementTag:"line",stroke:color,"stroke-width":1,x1:18,y1:14.5,x2:18,y2:30},{elementTag:"line",stroke:color,"stroke-width":1,x1:18,y1:30,x2:0,y2:0}]},mimCovalentBond:{shapes:[{elementTag:"rect",x:0,y:0,width:0,height:0,stroke:backgroundColor,"stroke-width":0,fill:backgroundColor}]},mimTranscriptionTranslation:{shapes:[{elementTag:"rect",x:0,y:11,width:12,height:2,stroke:backgroundColor,fill:backgroundColor},{elementTag:"line",stroke:color,fill:"none","stroke-width":1,x1:15,y1:12,x2:15,y2:5},{elementTag:"line",stroke:color,fill:"none","stroke-width":1,x1:15.5,y1:5,x2:8,y2:5},{elementTag:"polygon",points:"0,5 8,1 8,9","stroke-width":1,stroke:color,fill:backgroundColor}]},mimGap:{shapes:[{elementTag:"rect",x:0,y:5.3,width:8,height:1.4,stroke:"none",fill:backgroundColor}]},mimBranchingLeft:{shapes:[{elementTag:"rect",x:.4,y:5.3,width:3.1,height:1.4,fill:backgroundColor,stroke:"none"},{elementTag:"line",fill:"none",stroke:color,"stroke-width":1,x1:3.9,y1:6.2,x2:.2,y2:0}]},mimBranchingRight:{shapes:[{elementTag:"rect",x:.4,y:5.3,width:3.1,height:1.4,fill:backgroundColor,stroke:"none"},{elementTag:"line",fill:"none",stroke:color,"stroke-width":1,x1:.2,y1:12,x2:3.9,y2:5.8}]},tBar:{shapes:[{elementTag:"rect",x:0,y:9,width:8,height:2,fill:backgroundColor},{elementTag:"line",x:0,y:0,width:12,height:12,stroke:color,"stroke-width":1.8,x1:7,y1:0,x2:7,y2:20}]}};if(markerData.mimInhibition=markerData.tBar,markerData.mimConversion=markerData.arrow,markerData[name]){markerData[name].markerElement=crossPlatformShapesInstance.presetShapes[name].getDimensions();var markerId=crossPlatformShapesInstance.svg.marker.generateId(name,position,color),markerAttributeValue="url(#"+markerId+")";if(availableMarkers[markerId])callback(markerAttributeValue);else{var marker=d3.select(targetSvgDefs).append("marker").attr("id",markerId).attr("orient","auto").attr("markerUnits","strokeWidth").attr("preserveAspectRatio","none").attr("refY",markerData[name].markerElement.markerHeight/2).attr("viewBox","0 0 "+markerData[name].markerElement.markerWidth+" "+markerData[name].markerElement.markerHeight);d3.map(markerData[name].markerElement).entries().forEach(function(attribute){marker.attr(attribute.key,attribute.value)}),"end"===position?marker.attr("refX",markerData[name].markerElement.markerWidth):marker.attr("refX",0);var markerContainer=marker.append("g").attr("id","g-"+markerId);"end"===position&&markerContainer.attr("transform","rotate(180, "+markerData[name].markerElement.markerWidth/2+", "+markerData[name].markerElement.markerHeight/2+")"),markerData[name].shapes.forEach(function(shape){var shapeSelection=markerContainer.append(shape.elementTag);d3.map(shape).entries().forEach(function(attribute){"elementTag"!==attribute.key&&shapeSelection.attr(attribute.key,attribute.value)})}),availableMarkers[markerId]=!0,callback(markerAttributeValue)}}else console.warn('Marker (arrowhead) named "'+name+'" is not available.'),callback("none")}}},{}],44:[function(require,module){module.exports={generateMarkerId:function(name,position,color){var id=("id-"+name+"-"+position+"-"+color).replace(/[^A-Za-z0-9-]/g,"").toLowerCase();return id},render:function(crossPlatformShapesInstance,shapeName,data,callback){var targetSvg=crossPlatformShapesInstance.targetSvg,attributeDependencyOrder=(crossPlatformShapesInstance.availableMarkers,crossPlatformShapesInstance.svgNS,["color","markerStart","markerEnd"]),canvasPathCommandToSvgPathCommandMappings={moveTo:"M",lineTo:"L",closePath:"Z",bezierCurveTo:"C",quadraticCurveTo:"Q"},shapeSelection=d3.select(targetSvg).select(data.containerSelector).append("path"),d="",pathSegments=crossPlatformShapesInstance.presetShapes[shapeName].getPathSegments(crossPlatformShapesInstance,data);pathSegments.forEach(function(pathSegment){d+=canvasPathCommandToSvgPathCommandMappings[pathSegment.command],d+=pathSegment.points.join(",")
}),shapeSelection.attr("d",d);var backgroundColor=data.backgroundColor||"transparent";shapeSelection.attr("fill",backgroundColor);var color,attributeListItemName,attributeListItemValue,svgPathAttributeGenerator={id:function(idValue){shapeSelection.attr("id",idValue)},strokeDasharray:function(strokeDasharrayValue){shapeSelection.attr("stroke-dasharray",strokeDasharrayValue)},fillOpacity:function(fillOpacityValue){shapeSelection.attr("fill-opacity",fillOpacityValue)},color:function(colorValue){color=colorValue,shapeSelection.attr("stroke",colorValue)},markerStart:function(markerStartValue){crossPlatformShapesInstance.svg.marker.append(crossPlatformShapesInstance,markerStartValue,"start",color,function(markerAttributeValue){shapeSelection.attr("marker-start",markerAttributeValue)})},markerEnd:function(markerEndValue){crossPlatformShapesInstance.svg.marker.append(crossPlatformShapesInstance,markerEndValue,"end",color,function(markerAttributeValue){shapeSelection.attr("marker-end",markerAttributeValue)})},rotation:function(rotationValue){var transform="rotate("+rotationValue+","+(data.x+data.width/2)+","+(data.y+data.height/2)+")";shapeSelection.attr("transform",transform)},borderWidth:function(borderWidthValue){shapeSelection.attr("stroke-width",borderWidthValue)}},attributeList=d3.map(data).entries().sort(function(a,b){return attributeDependencyOrder.indexOf(a.key)-attributeDependencyOrder.indexOf(b.key)});return attributeList.forEach(function(attributeListItem){attributeListItemName=attributeListItem.key,attributeListItemValue=attributeListItem.value,svgPathAttributeGenerator.hasOwnProperty(attributeListItemName)&&svgPathAttributeGenerator[attributeListItemName](attributeListItemValue)}),callback?void callback(shapeSelection[0][0]):shapeSelection[0][0]}}},{}],45:[function(require,module){module.exports={getInstance:function(crossPlatformShapesInstance,args){var width=args.width||"100%",height=args.height||"100%",backgroundColor=args.backgroundColor||"#ffffff",targetElement=args.targetElement,targetTagName=args.targetTagName,svgNS="http://www.w3.org/2000/svg",xmlnsNS="http://www.w3.org/2000/xmlns/",xlinkNS="http://www.w3.org/1999/xlink",evNS="http://www.w3.org/2001/xml-events";crossPlatformShapesInstance.svgNS=svgNS;var viewport,defs,targetSvg,svgInstance=crossPlatformShapesInstance.svg;if("svg"!==targetTagName){var id=args.id||"svg-"+(new Date).toISOString().replace(/\D/g,"");targetSvg=document.createElementNS(svgNS,"svg"),targetSvg.setAttribute("xmlns",svgNS),targetSvg.setAttributeNS(xmlnsNS,"xmlns:xlink",xlinkNS),targetSvg.setAttributeNS(xmlnsNS,"xmlns:ev",evNS),targetSvg.setAttribute("id",id),targetSvg.setAttribute("version","1.1"),targetSvg.setAttribute("baseProfile","full"),targetSvg.setAttribute("preserveAspectRatio","xMidYMid"),targetSvg.setAttribute("width",width),targetSvg.setAttribute("height",height),defs=document.createElementNS(svgNS,"defs"),defs.setAttribute("id","defs"),targetSvg.appendChild(defs),crossPlatformShapesInstance.targetSvg=targetSvg,crossPlatformShapesInstance.targetSvgDefs=defs,viewport=document.createElementNS(svgNS,"g"),viewport.setAttribute("id","viewport"),targetSvg.appendChild(viewport),targetElement.appendChild(targetSvg)}else targetSvg=targetElement,crossPlatformShapesInstance.targetSvg=targetSvg,crossPlatformShapesInstance.targetSvgDefs=targetSvg.querySelector("defs"),viewport=targetSvg.querySelector("#viewport"),viewport||(viewport=targetSvg.querySelector("g"));return crossPlatformShapesInstance.availableMarkers={},crossPlatformShapesInstance.backgroundColor=backgroundColor,targetSvg.setAttribute("style","background-color:"+backgroundColor+"; "),crossPlatformShapesInstance.viewport=viewport,svgInstance},path:require("./path"),image:require("./image"),marker:require("./marker")}},{"./image":42,"./marker":43,"./path":44}],46:[function(require,module,exports){(function(global){(function(){function baseIndexOf(array,value,fromIndex){for(var index=(fromIndex||0)-1,length=array?array.length:0;++index<length;)if(array[index]===value)return index;return-1}function cacheIndexOf(cache,value){var type=typeof value;if(cache=cache.cache,"boolean"==type||null==value)return cache[value]?0:-1;"number"!=type&&"string"!=type&&(type="object");var key="number"==type?value:keyPrefix+value;return cache=(cache=cache[type])&&cache[key],"object"==type?cache&&baseIndexOf(cache,value)>-1?0:-1:cache?0:-1}function cachePush(value){var cache=this.cache,type=typeof value;if("boolean"==type||null==value)cache[value]=!0;else{"number"!=type&&"string"!=type&&(type="object");var key="number"==type?value:keyPrefix+value,typeCache=cache[type]||(cache[type]={});"object"==type?(typeCache[key]||(typeCache[key]=[])).push(value):typeCache[key]=!0}}function charAtCallback(value){return value.charCodeAt(0)}function compareAscending(a,b){for(var ac=a.criteria,bc=b.criteria,index=-1,length=ac.length;++index<length;){var value=ac[index],other=bc[index];if(value!==other){if(value>other||"undefined"==typeof value)return 1;if(other>value||"undefined"==typeof other)return-1}}return a.index-b.index}function createCache(array){var index=-1,length=array.length,first=array[0],mid=array[length/2|0],last=array[length-1];if(first&&"object"==typeof first&&mid&&"object"==typeof mid&&last&&"object"==typeof last)return!1;var cache=getObject();cache["false"]=cache["null"]=cache["true"]=cache.undefined=!1;var result=getObject();for(result.array=array,result.cache=cache,result.push=cachePush;++index<length;)result.push(array[index]);return result}function escapeStringChar(match){return"\\"+stringEscapes[match]}function getArray(){return arrayPool.pop()||[]}function getObject(){return objectPool.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function releaseArray(array){array.length=0,arrayPool.length<maxPoolSize&&arrayPool.push(array)}function releaseObject(object){var cache=object.cache;cache&&releaseObject(cache),object.array=object.cache=object.criteria=object.object=object.number=object.string=object.value=null,objectPool.length<maxPoolSize&&objectPool.push(object)}function slice(array,start,end){start||(start=0),"undefined"==typeof end&&(end=array?array.length:0);for(var index=-1,length=end-start||0,result=Array(0>length?0:length);++index<length;)result[index]=array[start+index];return result}function runInContext(context){function lodash(value){return value&&"object"==typeof value&&!isArray(value)&&hasOwnProperty.call(value,"__wrapped__")?value:new lodashWrapper(value)}function lodashWrapper(value,chainAll){this.__chain__=!!chainAll,this.__wrapped__=value}function baseBind(bindData){function bound(){if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if(this instanceof bound){var thisBinding=baseCreate(func.prototype),result=func.apply(thisBinding,args||arguments);return isObject(result)?result:thisBinding}return func.apply(thisArg,args||arguments)}var func=bindData[0],partialArgs=bindData[2],thisArg=bindData[4];return setBindData(bound,bindData),bound}function baseClone(value,isDeep,callback,stackA,stackB){if(callback){var result=callback(value);if("undefined"!=typeof result)return result}var isObj=isObject(value);if(!isObj)return value;var className=toString.call(value);if(!cloneableClasses[className])return value;var ctor=ctorByClass[className];switch(className){case boolClass:case dateClass:return new ctor(+value);case numberClass:case stringClass:return new ctor(value);case regexpClass:return result=ctor(value.source,reFlags.exec(value)),result.lastIndex=value.lastIndex,result}var isArr=isArray(value);if(isDeep){var initedStack=!stackA;stackA||(stackA=getArray()),stackB||(stackB=getArray());for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];result=isArr?ctor(value.length):{}}else result=isArr?slice(value):assign({},value);return isArr&&(hasOwnProperty.call(value,"index")&&(result.index=value.index),hasOwnProperty.call(value,"input")&&(result.input=value.input)),isDeep?(stackA.push(value),stackB.push(result),(isArr?forEach:forOwn)(value,function(objValue,key){result[key]=baseClone(objValue,isDeep,callback,stackA,stackB)}),initedStack&&(releaseArray(stackA),releaseArray(stackB)),result):result}function baseCreate(prototype){return isObject(prototype)?nativeCreate(prototype):{}}function baseCreateCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if("undefined"==typeof thisArg||!("prototype"in func))return func;var bindData=func.__bindData__;if("undefined"==typeof bindData&&(support.funcNames&&(bindData=!func.name),bindData=bindData||!support.funcDecomp,!bindData)){var source=fnToString.call(func);support.funcNames||(bindData=!reFuncName.test(source)),bindData||(bindData=reThis.test(source),setBindData(func,bindData))}if(bindData===!1||bindData!==!0&&1&bindData[1])return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 2:return function(a,b){return func.call(thisArg,a,b)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)}}return bind(func,thisArg)}function baseCreateWrapper(bindData){function bound(){var thisBinding=isBind?thisArg:this;if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if((partialRightArgs||isCurry)&&(args||(args=slice(arguments)),partialRightArgs&&push.apply(args,partialRightArgs),isCurry&&args.length<arity))return bitmask|=16,baseCreateWrapper([func,isCurryBound?bitmask:-4&bitmask,args,null,thisArg,arity]);if(args||(args=arguments),isBindKey&&(func=thisBinding[key]),this instanceof bound){thisBinding=baseCreate(func.prototype);var result=func.apply(thisBinding,args);return isObject(result)?result:thisBinding}return func.apply(thisBinding,args)}var func=bindData[0],bitmask=bindData[1],partialArgs=bindData[2],partialRightArgs=bindData[3],thisArg=bindData[4],arity=bindData[5],isBind=1&bitmask,isBindKey=2&bitmask,isCurry=4&bitmask,isCurryBound=8&bitmask,key=func;return setBindData(bound,bindData),bound}function baseDifference(array,values){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,isLarge=length>=largeArraySize&&indexOf===baseIndexOf,result=[];if(isLarge){var cache=createCache(values);cache?(indexOf=cacheIndexOf,values=cache):isLarge=!1}for(;++index<length;){var value=array[index];indexOf(values,value)<0&&result.push(value)}return isLarge&&releaseObject(values),result}function baseFlatten(array,isShallow,isStrict,fromIndex){for(var index=(fromIndex||0)-1,length=array?array.length:0,result=[];++index<length;){var value=array[index];if(value&&"object"==typeof value&&"number"==typeof value.length&&(isArray(value)||isArguments(value))){isShallow||(value=baseFlatten(value,isShallow,isStrict));var valIndex=-1,valLength=value.length,resIndex=result.length;for(result.length+=valLength;++valIndex<valLength;)result[resIndex++]=value[valIndex]}else isStrict||result.push(value)}return result}function baseIsEqual(a,b,callback,isWhere,stackA,stackB){if(callback){var result=callback(a,b);if("undefined"!=typeof result)return!!result}if(a===b)return 0!==a||1/a==1/b;var type=typeof a,otherType=typeof b;if(!(a!==a||a&&objectTypes[type]||b&&objectTypes[otherType]))return!1;if(null==a||null==b)return a===b;var className=toString.call(a),otherClass=toString.call(b);if(className==argsClass&&(className=objectClass),otherClass==argsClass&&(otherClass=objectClass),className!=otherClass)return!1;switch(className){case boolClass:case dateClass:return+a==+b;case numberClass:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case regexpClass:case stringClass:return a==String(b)}var isArr=className==arrayClass;if(!isArr){var aWrapped=hasOwnProperty.call(a,"__wrapped__"),bWrapped=hasOwnProperty.call(b,"__wrapped__");if(aWrapped||bWrapped)return baseIsEqual(aWrapped?a.__wrapped__:a,bWrapped?b.__wrapped__:b,callback,isWhere,stackA,stackB);if(className!=objectClass)return!1;var ctorA=a.constructor,ctorB=b.constructor;if(ctorA!=ctorB&&!(isFunction(ctorA)&&ctorA instanceof ctorA&&isFunction(ctorB)&&ctorB instanceof ctorB)&&"constructor"in a&&"constructor"in b)return!1}var initedStack=!stackA;stackA||(stackA=getArray()),stackB||(stackB=getArray());for(var length=stackA.length;length--;)if(stackA[length]==a)return stackB[length]==b;var size=0;if(result=!0,stackA.push(a),stackB.push(b),isArr){if(length=a.length,size=b.length,result=size==length,result||isWhere)for(;size--;){var index=length,value=b[size];if(isWhere)for(;index--&&!(result=baseIsEqual(a[index],value,callback,isWhere,stackA,stackB)););else if(!(result=baseIsEqual(a[size],value,callback,isWhere,stackA,stackB)))break}}else forIn(b,function(value,key,b){return hasOwnProperty.call(b,key)?(size++,result=hasOwnProperty.call(a,key)&&baseIsEqual(a[key],value,callback,isWhere,stackA,stackB)):void 0}),result&&!isWhere&&forIn(a,function(value,key,a){return hasOwnProperty.call(a,key)?result=--size>-1:void 0});return stackA.pop(),stackB.pop(),initedStack&&(releaseArray(stackA),releaseArray(stackB)),result}function baseMerge(object,source,callback,stackA,stackB){(isArray(source)?forEach:forOwn)(source,function(source,key){var found,isArr,result=source,value=object[key];if(source&&((isArr=isArray(source))||isPlainObject(source))){for(var stackLength=stackA.length;stackLength--;)if(found=stackA[stackLength]==source){value=stackB[stackLength];break}if(!found){var isShallow;callback&&(result=callback(value,source),(isShallow="undefined"!=typeof result)&&(value=result)),isShallow||(value=isArr?isArray(value)?value:[]:isPlainObject(value)?value:{}),stackA.push(source),stackB.push(value),isShallow||baseMerge(value,source,callback,stackA,stackB)}}else callback&&(result=callback(value,source),"undefined"==typeof result&&(result=source)),"undefined"!=typeof result&&(value=result);object[key]=value})}function baseRandom(min,max){return min+floor(nativeRandom()*(max-min+1))}function baseUniq(array,isSorted,callback){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,result=[],isLarge=!isSorted&&length>=largeArraySize&&indexOf===baseIndexOf,seen=callback||isLarge?getArray():result;if(isLarge){var cache=createCache(seen);indexOf=cacheIndexOf,seen=cache}for(;++index<length;){var value=array[index],computed=callback?callback(value,index,array):value;(isSorted?!index||seen[seen.length-1]!==computed:indexOf(seen,computed)<0)&&((callback||isLarge)&&seen.push(computed),result.push(value))}return isLarge?(releaseArray(seen.array),releaseObject(seen)):callback&&releaseArray(seen),result}function createAggregator(setter){return function(collection,callback,thisArg){var result={};callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if("number"==typeof length)for(;++index<length;){var value=collection[index];setter(result,value,callback(value,index,collection),collection)}else forOwn(collection,function(value,key,collection){setter(result,value,callback(value,key,collection),collection)});return result}}function createWrapper(func,bitmask,partialArgs,partialRightArgs,thisArg,arity){var isBind=1&bitmask,isBindKey=2&bitmask,isCurry=4&bitmask,isPartial=16&bitmask,isPartialRight=32&bitmask;if(!isBindKey&&!isFunction(func))throw new TypeError;isPartial&&!partialArgs.length&&(bitmask&=-17,isPartial=partialArgs=!1),isPartialRight&&!partialRightArgs.length&&(bitmask&=-33,isPartialRight=partialRightArgs=!1);var bindData=func&&func.__bindData__;if(bindData&&bindData!==!0)return bindData=slice(bindData),bindData[2]&&(bindData[2]=slice(bindData[2])),bindData[3]&&(bindData[3]=slice(bindData[3])),!isBind||1&bindData[1]||(bindData[4]=thisArg),!isBind&&1&bindData[1]&&(bitmask|=8),!isCurry||4&bindData[1]||(bindData[5]=arity),isPartial&&push.apply(bindData[2]||(bindData[2]=[]),partialArgs),isPartialRight&&unshift.apply(bindData[3]||(bindData[3]=[]),partialRightArgs),bindData[1]|=bitmask,createWrapper.apply(null,bindData);var creater=1==bitmask||17===bitmask?baseBind:baseCreateWrapper;return creater([func,bitmask,partialArgs,partialRightArgs,thisArg,arity])}function escapeHtmlChar(match){return htmlEscapes[match]}function getIndexOf(){var result=(result=lodash.indexOf)===indexOf?baseIndexOf:result;return result}function isNative(value){return"function"==typeof value&&reNative.test(value)}function shimIsPlainObject(value){var ctor,result;return value&&toString.call(value)==objectClass&&(ctor=value.constructor,!isFunction(ctor)||ctor instanceof ctor)?(forIn(value,function(value,key){result=key}),"undefined"==typeof result||hasOwnProperty.call(value,result)):!1}function unescapeHtmlChar(match){return htmlUnescapes[match]}function isArguments(value){return value&&"object"==typeof value&&"number"==typeof value.length&&toString.call(value)==argsClass||!1}function clone(value,isDeep,callback,thisArg){return"boolean"!=typeof isDeep&&null!=isDeep&&(thisArg=callback,callback=isDeep,isDeep=!1),baseClone(value,isDeep,"function"==typeof callback&&baseCreateCallback(callback,thisArg,1))}function cloneDeep(value,callback,thisArg){return baseClone(value,!0,"function"==typeof callback&&baseCreateCallback(callback,thisArg,1))}function create(prototype,properties){var result=baseCreate(prototype);return properties?assign(result,properties):result}function findKey(object,callback,thisArg){var result;return callback=lodash.createCallback(callback,thisArg,3),forOwn(object,function(value,key,object){return callback(value,key,object)?(result=key,!1):void 0}),result}function findLastKey(object,callback,thisArg){var result;return callback=lodash.createCallback(callback,thisArg,3),forOwnRight(object,function(value,key,object){return callback(value,key,object)?(result=key,!1):void 0}),result}function forInRight(object,callback,thisArg){var pairs=[];forIn(object,function(value,key){pairs.push(key,value)});var length=pairs.length;for(callback=baseCreateCallback(callback,thisArg,3);length--&&callback(pairs[length--],pairs[length],object)!==!1;);return object}function forOwnRight(object,callback,thisArg){var props=keys(object),length=props.length;for(callback=baseCreateCallback(callback,thisArg,3);length--;){var key=props[length];if(callback(object[key],key,object)===!1)break}return object}function functions(object){var result=[];return forIn(object,function(value,key){isFunction(value)&&result.push(key)}),result.sort()}function has(object,key){return object?hasOwnProperty.call(object,key):!1}function invert(object){for(var index=-1,props=keys(object),length=props.length,result={};++index<length;){var key=props[index];result[object[key]]=key}return result}function isBoolean(value){return value===!0||value===!1||value&&"object"==typeof value&&toString.call(value)==boolClass||!1}function isDate(value){return value&&"object"==typeof value&&toString.call(value)==dateClass||!1}function isElement(value){return value&&1===value.nodeType||!1}function isEmpty(value){var result=!0;if(!value)return result;var className=toString.call(value),length=value.length;return className==arrayClass||className==stringClass||className==argsClass||className==objectClass&&"number"==typeof length&&isFunction(value.splice)?!length:(forOwn(value,function(){return result=!1}),result)}function isEqual(a,b,callback,thisArg){return baseIsEqual(a,b,"function"==typeof callback&&baseCreateCallback(callback,thisArg,2))}function isFinite(value){return nativeIsFinite(value)&&!nativeIsNaN(parseFloat(value))}function isFunction(value){return"function"==typeof value}function isObject(value){return!(!value||!objectTypes[typeof value])}function isNaN(value){return isNumber(value)&&value!=+value}function isNull(value){return null===value}function isNumber(value){return"number"==typeof value||value&&"object"==typeof value&&toString.call(value)==numberClass||!1}function isRegExp(value){return value&&"object"==typeof value&&toString.call(value)==regexpClass||!1}function isString(value){return"string"==typeof value||value&&"object"==typeof value&&toString.call(value)==stringClass||!1}function isUndefined(value){return"undefined"==typeof value}function mapValues(object,callback,thisArg){var result={};return callback=lodash.createCallback(callback,thisArg,3),forOwn(object,function(value,key,object){result[key]=callback(value,key,object)}),result}function merge(object){var args=arguments,length=2;if(!isObject(object))return object;if("number"!=typeof args[2]&&(length=args.length),length>3&&"function"==typeof args[length-2])var callback=baseCreateCallback(args[--length-1],args[length--],2);else length>2&&"function"==typeof args[length-1]&&(callback=args[--length]);for(var sources=slice(arguments,1,length),index=-1,stackA=getArray(),stackB=getArray();++index<length;)baseMerge(object,sources[index],callback,stackA,stackB);return releaseArray(stackA),releaseArray(stackB),object}function omit(object,callback,thisArg){var result={};if("function"!=typeof callback){var props=[];forIn(object,function(value,key){props.push(key)}),props=baseDifference(props,baseFlatten(arguments,!0,!1,1));for(var index=-1,length=props.length;++index<length;){var key=props[index];result[key]=object[key]}}else callback=lodash.createCallback(callback,thisArg,3),forIn(object,function(value,key,object){callback(value,key,object)||(result[key]=value)});return result}function pairs(object){for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}function pick(object,callback,thisArg){var result={};if("function"!=typeof callback)for(var index=-1,props=baseFlatten(arguments,!0,!1,1),length=isObject(object)?props.length:0;++index<length;){var key=props[index];key in object&&(result[key]=object[key])}else callback=lodash.createCallback(callback,thisArg,3),forIn(object,function(value,key,object){callback(value,key,object)&&(result[key]=value)});return result}function transform(object,callback,accumulator,thisArg){var isArr=isArray(object);if(null==accumulator)if(isArr)accumulator=[];else{var ctor=object&&object.constructor,proto=ctor&&ctor.prototype;accumulator=baseCreate(proto)}return callback&&(callback=lodash.createCallback(callback,thisArg,4),(isArr?forEach:forOwn)(object,function(value,index,object){return callback(accumulator,value,index,object)})),accumulator}function values(object){for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}function at(collection){for(var args=arguments,index=-1,props=baseFlatten(args,!0,!1,1),length=args[2]&&args[2][args[1]]===collection?1:props.length,result=Array(length);++index<length;)result[index]=collection[props[index]];return result}function contains(collection,target,fromIndex){var index=-1,indexOf=getIndexOf(),length=collection?collection.length:0,result=!1;return fromIndex=(0>fromIndex?nativeMax(0,length+fromIndex):fromIndex)||0,isArray(collection)?result=indexOf(collection,target,fromIndex)>-1:"number"==typeof length?result=(isString(collection)?collection.indexOf(target,fromIndex):indexOf(collection,target,fromIndex))>-1:forOwn(collection,function(value){return++index>=fromIndex?!(result=value===target):void 0}),result}function every(collection,callback,thisArg){var result=!0;callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if("number"==typeof length)for(;++index<length&&(result=!!callback(collection[index],index,collection)););else forOwn(collection,function(value,index,collection){return result=!!callback(value,index,collection)});return result}function filter(collection,callback,thisArg){var result=[];callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if("number"==typeof length)for(;++index<length;){var value=collection[index];callback(value,index,collection)&&result.push(value)}else forOwn(collection,function(value,index,collection){callback(value,index,collection)&&result.push(value)});return result}function find(collection,callback,thisArg){callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if("number"!=typeof length){var result;return forOwn(collection,function(value,index,collection){return callback(value,index,collection)?(result=value,!1):void 0}),result}for(;++index<length;){var value=collection[index];if(callback(value,index,collection))return value}}function findLast(collection,callback,thisArg){var result;return callback=lodash.createCallback(callback,thisArg,3),forEachRight(collection,function(value,index,collection){return callback(value,index,collection)?(result=value,!1):void 0}),result}function forEach(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;if(callback=callback&&"undefined"==typeof thisArg?callback:baseCreateCallback(callback,thisArg,3),"number"==typeof length)for(;++index<length&&callback(collection[index],index,collection)!==!1;);else forOwn(collection,callback);return collection}function forEachRight(collection,callback,thisArg){var length=collection?collection.length:0;if(callback=callback&&"undefined"==typeof thisArg?callback:baseCreateCallback(callback,thisArg,3),"number"==typeof length)for(;length--&&callback(collection[length],length,collection)!==!1;);else{var props=keys(collection);length=props.length,forOwn(collection,function(value,key,collection){return key=props?props[--length]:--length,callback(collection[key],key,collection)})}return collection}function invoke(collection,methodName){var args=slice(arguments,2),index=-1,isFunc="function"==typeof methodName,length=collection?collection.length:0,result=Array("number"==typeof length?length:0);return forEach(collection,function(value){result[++index]=(isFunc?methodName:value[methodName]).apply(value,args)}),result}function map(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;if(callback=lodash.createCallback(callback,thisArg,3),"number"==typeof length)for(var result=Array(length);++index<length;)result[index]=callback(collection[index],index,collection);else result=[],forOwn(collection,function(value,key,collection){result[++index]=callback(value,key,collection)});return result}function max(collection,callback,thisArg){var computed=-1/0,result=computed;if("function"!=typeof callback&&thisArg&&thisArg[callback]===collection&&(callback=null),null==callback&&isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];value>result&&(result=value)}else callback=null==callback&&isString(collection)?charAtCallback:lodash.createCallback(callback,thisArg,3),forEach(collection,function(value,index,collection){var current=callback(value,index,collection);current>computed&&(computed=current,result=value)});return result}function min(collection,callback,thisArg){var computed=1/0,result=computed;if("function"!=typeof callback&&thisArg&&thisArg[callback]===collection&&(callback=null),null==callback&&isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];result>value&&(result=value)}else callback=null==callback&&isString(collection)?charAtCallback:lodash.createCallback(callback,thisArg,3),forEach(collection,function(value,index,collection){var current=callback(value,index,collection);computed>current&&(computed=current,result=value)});return result}function reduce(collection,callback,accumulator,thisArg){if(!collection)return accumulator;var noaccum=arguments.length<3;callback=lodash.createCallback(callback,thisArg,4);var index=-1,length=collection.length;if("number"==typeof length)for(noaccum&&(accumulator=collection[++index]);++index<length;)accumulator=callback(accumulator,collection[index],index,collection);else forOwn(collection,function(value,index,collection){accumulator=noaccum?(noaccum=!1,value):callback(accumulator,value,index,collection)});return accumulator}function reduceRight(collection,callback,accumulator,thisArg){var noaccum=arguments.length<3;return callback=lodash.createCallback(callback,thisArg,4),forEachRight(collection,function(value,index,collection){accumulator=noaccum?(noaccum=!1,value):callback(accumulator,value,index,collection)}),accumulator}function reject(collection,callback,thisArg){return callback=lodash.createCallback(callback,thisArg,3),filter(collection,function(value,index,collection){return!callback(value,index,collection)})}function sample(collection,n,guard){if(collection&&"number"!=typeof collection.length&&(collection=values(collection)),null==n||guard)return collection?collection[baseRandom(0,collection.length-1)]:undefined;var result=shuffle(collection);return result.length=nativeMin(nativeMax(0,n),result.length),result}function shuffle(collection){var index=-1,length=collection?collection.length:0,result=Array("number"==typeof length?length:0);return forEach(collection,function(value){var rand=baseRandom(0,++index);result[index]=result[rand],result[rand]=value}),result}function size(collection){var length=collection?collection.length:0;return"number"==typeof length?length:keys(collection).length}function some(collection,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if("number"==typeof length)for(;++index<length&&!(result=callback(collection[index],index,collection)););else forOwn(collection,function(value,index,collection){return!(result=callback(value,index,collection))});return!!result}function sortBy(collection,callback,thisArg){var index=-1,isArr=isArray(callback),length=collection?collection.length:0,result=Array("number"==typeof length?length:0);for(isArr||(callback=lodash.createCallback(callback,thisArg,3)),forEach(collection,function(value,key,collection){var object=result[++index]=getObject();isArr?object.criteria=map(callback,function(key){return value[key]}):(object.criteria=getArray())[0]=callback(value,key,collection),object.index=index,object.value=value}),length=result.length,result.sort(compareAscending);length--;){var object=result[length];result[length]=object.value,isArr||releaseArray(object.criteria),releaseObject(object)}return result}function toArray(collection){return collection&&"number"==typeof collection.length?slice(collection):values(collection)}function compact(array){for(var index=-1,length=array?array.length:0,result=[];++index<length;){var value=array[index];value&&result.push(value)}return result}function difference(array){return baseDifference(array,baseFlatten(arguments,!0,!0,1))}function findIndex(array,callback,thisArg){var index=-1,length=array?array.length:0;for(callback=lodash.createCallback(callback,thisArg,3);++index<length;)if(callback(array[index],index,array))return index;return-1}function findLastIndex(array,callback,thisArg){var length=array?array.length:0;for(callback=lodash.createCallback(callback,thisArg,3);length--;)if(callback(array[length],length,array))return length;return-1}function first(array,callback,thisArg){var n=0,length=array?array.length:0;if("number"!=typeof callback&&null!=callback){var index=-1;for(callback=lodash.createCallback(callback,thisArg,3);++index<length&&callback(array[index],index,array);)n++}else if(n=callback,null==n||thisArg)return array?array[0]:undefined;return slice(array,0,nativeMin(nativeMax(0,n),length))}function flatten(array,isShallow,callback,thisArg){return"boolean"!=typeof isShallow&&null!=isShallow&&(thisArg=callback,callback="function"!=typeof isShallow&&thisArg&&thisArg[isShallow]===array?null:isShallow,isShallow=!1),null!=callback&&(array=map(array,callback,thisArg)),baseFlatten(array,isShallow)}function indexOf(array,value,fromIndex){if("number"==typeof fromIndex){var length=array?array.length:0;fromIndex=0>fromIndex?nativeMax(0,length+fromIndex):fromIndex||0}else if(fromIndex){var index=sortedIndex(array,value);return array[index]===value?index:-1
}return baseIndexOf(array,value,fromIndex)}function initial(array,callback,thisArg){var n=0,length=array?array.length:0;if("number"!=typeof callback&&null!=callback){var index=length;for(callback=lodash.createCallback(callback,thisArg,3);index--&&callback(array[index],index,array);)n++}else n=null==callback||thisArg?1:callback||n;return slice(array,0,nativeMin(nativeMax(0,length-n),length))}function intersection(){for(var args=[],argsIndex=-1,argsLength=arguments.length,caches=getArray(),indexOf=getIndexOf(),trustIndexOf=indexOf===baseIndexOf,seen=getArray();++argsIndex<argsLength;){var value=arguments[argsIndex];(isArray(value)||isArguments(value))&&(args.push(value),caches.push(trustIndexOf&&value.length>=largeArraySize&&createCache(argsIndex?args[argsIndex]:seen)))}var array=args[0],index=-1,length=array?array.length:0,result=[];outer:for(;++index<length;){var cache=caches[0];if(value=array[index],(cache?cacheIndexOf(cache,value):indexOf(seen,value))<0){for(argsIndex=argsLength,(cache||seen).push(value);--argsIndex;)if(cache=caches[argsIndex],(cache?cacheIndexOf(cache,value):indexOf(args[argsIndex],value))<0)continue outer;result.push(value)}}for(;argsLength--;)cache=caches[argsLength],cache&&releaseObject(cache);return releaseArray(caches),releaseArray(seen),result}function last(array,callback,thisArg){var n=0,length=array?array.length:0;if("number"!=typeof callback&&null!=callback){var index=length;for(callback=lodash.createCallback(callback,thisArg,3);index--&&callback(array[index],index,array);)n++}else if(n=callback,null==n||thisArg)return array?array[length-1]:undefined;return slice(array,nativeMax(0,length-n))}function lastIndexOf(array,value,fromIndex){var index=array?array.length:0;for("number"==typeof fromIndex&&(index=(0>fromIndex?nativeMax(0,index+fromIndex):nativeMin(fromIndex,index-1))+1);index--;)if(array[index]===value)return index;return-1}function pull(array){for(var args=arguments,argsIndex=0,argsLength=args.length,length=array?array.length:0;++argsIndex<argsLength;)for(var index=-1,value=args[argsIndex];++index<length;)array[index]===value&&(splice.call(array,index--,1),length--);return array}function range(start,end,step){start=+start||0,step="number"==typeof step?step:+step||1,null==end&&(end=start,start=0);for(var index=-1,length=nativeMax(0,ceil((end-start)/(step||1))),result=Array(length);++index<length;)result[index]=start,start+=step;return result}function remove(array,callback,thisArg){var index=-1,length=array?array.length:0,result=[];for(callback=lodash.createCallback(callback,thisArg,3);++index<length;){var value=array[index];callback(value,index,array)&&(result.push(value),splice.call(array,index--,1),length--)}return result}function rest(array,callback,thisArg){if("number"!=typeof callback&&null!=callback){var n=0,index=-1,length=array?array.length:0;for(callback=lodash.createCallback(callback,thisArg,3);++index<length&&callback(array[index],index,array);)n++}else n=null==callback||thisArg?1:nativeMax(0,callback);return slice(array,n)}function sortedIndex(array,value,callback,thisArg){var low=0,high=array?array.length:low;for(callback=callback?lodash.createCallback(callback,thisArg,1):identity,value=callback(value);high>low;){var mid=low+high>>>1;callback(array[mid])<value?low=mid+1:high=mid}return low}function union(){return baseUniq(baseFlatten(arguments,!0,!0))}function uniq(array,isSorted,callback,thisArg){return"boolean"!=typeof isSorted&&null!=isSorted&&(thisArg=callback,callback="function"!=typeof isSorted&&thisArg&&thisArg[isSorted]===array?null:isSorted,isSorted=!1),null!=callback&&(callback=lodash.createCallback(callback,thisArg,3)),baseUniq(array,isSorted,callback)}function without(array){return baseDifference(array,slice(arguments,1))}function xor(){for(var index=-1,length=arguments.length;++index<length;){var array=arguments[index];if(isArray(array)||isArguments(array))var result=result?baseUniq(baseDifference(result,array).concat(baseDifference(array,result))):array}return result||[]}function zip(){for(var array=arguments.length>1?arguments:arguments[0],index=-1,length=array?max(pluck(array,"length")):0,result=Array(0>length?0:length);++index<length;)result[index]=pluck(array,index);return result}function zipObject(keys,values){var index=-1,length=keys?keys.length:0,result={};for(values||!length||isArray(keys[0])||(values=[]);++index<length;){var key=keys[index];values?result[key]=values[index]:key&&(result[key[0]]=key[1])}return result}function after(n,func){if(!isFunction(func))throw new TypeError;return function(){return--n<1?func.apply(this,arguments):void 0}}function bind(func,thisArg){return arguments.length>2?createWrapper(func,17,slice(arguments,2),null,thisArg):createWrapper(func,1,null,null,thisArg)}function bindAll(object){for(var funcs=arguments.length>1?baseFlatten(arguments,!0,!1,1):functions(object),index=-1,length=funcs.length;++index<length;){var key=funcs[index];object[key]=createWrapper(object[key],1,null,null,object)}return object}function bindKey(object,key){return arguments.length>2?createWrapper(key,19,slice(arguments,2),null,object):createWrapper(key,3,null,null,object)}function compose(){for(var funcs=arguments,length=funcs.length;length--;)if(!isFunction(funcs[length]))throw new TypeError;return function(){for(var args=arguments,length=funcs.length;length--;)args=[funcs[length].apply(this,args)];return args[0]}}function curry(func,arity){return arity="number"==typeof arity?arity:+arity||func.length,createWrapper(func,4,null,null,null,arity)}function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if(!isFunction(func))throw new TypeError;if(wait=nativeMax(0,wait)||0,options===!0){var leading=!0;trailing=!1}else isObject(options)&&(leading=options.leading,maxWait="maxWait"in options&&(nativeMax(wait,options.maxWait)||0),trailing="trailing"in options?options.trailing:trailing);var delayed=function(){var remaining=wait-(now()-stamp);if(0>=remaining){maxTimeoutId&&clearTimeout(maxTimeoutId);var isCalled=trailingCall;maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))}else timeoutId=setTimeout(delayed,remaining)},maxDelayed=function(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId=timeoutId=trailingCall=undefined,(trailing||maxWait!==wait)&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))};return function(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=0>=remaining;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=null),result}}function defer(func){if(!isFunction(func))throw new TypeError;var args=slice(arguments,1);return setTimeout(function(){func.apply(undefined,args)},1)}function delay(func,wait){if(!isFunction(func))throw new TypeError;var args=slice(arguments,2);return setTimeout(function(){func.apply(undefined,args)},wait)}function memoize(func,resolver){if(!isFunction(func))throw new TypeError;var memoized=function(){var cache=memoized.cache,key=resolver?resolver.apply(this,arguments):keyPrefix+arguments[0];return hasOwnProperty.call(cache,key)?cache[key]:cache[key]=func.apply(this,arguments)};return memoized.cache={},memoized}function once(func){var ran,result;if(!isFunction(func))throw new TypeError;return function(){return ran?result:(ran=!0,result=func.apply(this,arguments),func=null,result)}}function partial(func){return createWrapper(func,16,slice(arguments,1))}function partialRight(func){return createWrapper(func,32,null,slice(arguments,1))}function throttle(func,wait,options){var leading=!0,trailing=!0;if(!isFunction(func))throw new TypeError;return options===!1?leading=!1:isObject(options)&&(leading="leading"in options?options.leading:leading,trailing="trailing"in options?options.trailing:trailing),debounceOptions.leading=leading,debounceOptions.maxWait=wait,debounceOptions.trailing=trailing,debounce(func,wait,debounceOptions)}function wrap(value,wrapper){return createWrapper(wrapper,16,[value])}function constant(value){return function(){return value}}function createCallback(func,thisArg,argCount){var type=typeof func;if(null==func||"function"==type)return baseCreateCallback(func,thisArg,argCount);if("object"!=type)return property(func);var props=keys(func),key=props[0],a=func[key];return 1!=props.length||a!==a||isObject(a)?function(object){for(var length=props.length,result=!1;length--&&(result=baseIsEqual(object[props[length]],func[props[length]],null,!0)););return result}:function(object){var b=object[key];return a===b&&(0!==a||1/a==1/b)}}function escape(string){return null==string?"":String(string).replace(reUnescapedHtml,escapeHtmlChar)}function identity(value){return value}function mixin(object,source,options){var chain=!0,methodNames=source&&functions(source);source&&(options||methodNames.length)||(null==options&&(options=source),ctor=lodashWrapper,source=object,object=lodash,methodNames=functions(source)),options===!1?chain=!1:isObject(options)&&"chain"in options&&(chain=options.chain);var ctor=object,isFunc=isFunction(ctor);forEach(methodNames,function(methodName){var func=object[methodName]=source[methodName];isFunc&&(ctor.prototype[methodName]=function(){var chainAll=this.__chain__,value=this.__wrapped__,args=[value];push.apply(args,arguments);var result=func.apply(object,args);if(chain||chainAll){if(value===result&&isObject(result))return this;result=new ctor(result),result.__chain__=chainAll}return result})})}function noConflict(){return context._=oldDash,this}function noop(){}function property(key){return function(object){return object[key]}}function random(min,max,floating){var noMin=null==min,noMax=null==max;if(null==floating&&("boolean"==typeof min&&noMax?(floating=min,min=1):noMax||"boolean"!=typeof max||(floating=max,noMax=!0)),noMin&&noMax&&(max=1),min=+min||0,noMax?(max=min,min=0):max=+max||0,floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}function result(object,key){if(object){var value=object[key];return isFunction(value)?object[key]():value}}function template(text,data,options){var settings=lodash.templateSettings;text=String(text||""),options=defaults({},options,settings);var isEvaluating,imports=defaults({},options.imports,settings.imports),importsKeys=keys(imports),importsValues=values(imports),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");text.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=text.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable,hasVariable=variable;hasVariable||(variable="obj",source="with ("+variable+") {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+variable+") {\n"+(hasVariable?"":variable+" || ("+variable+" = {});\n")+"var __t, __p = '', __e = _.escape"+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var sourceURL="\n/*\n//# sourceURL="+(options.sourceURL||"/lodash/template/source["+templateCounter++ +"]")+"\n*/";try{var result=Function(importsKeys,"return "+source+sourceURL).apply(undefined,importsValues)}catch(e){throw e.source=source,e}return data?result(data):(result.source=source,result)}function times(n,callback,thisArg){n=(n=+n)>-1?n:0;var index=-1,result=Array(n);for(callback=baseCreateCallback(callback,thisArg,1);++index<n;)result[index]=callback(index);return result}function unescape(string){return null==string?"":String(string).replace(reEscapedHtml,unescapeHtmlChar)}function uniqueId(prefix){var id=++idCounter;return String(null==prefix?"":prefix)+id}function chain(value){return value=new lodashWrapper(value),value.__chain__=!0,value}function tap(value,interceptor){return interceptor(value),value}function wrapperChain(){return this.__chain__=!0,this}function wrapperToString(){return String(this.__wrapped__)}function wrapperValueOf(){return this.__wrapped__}context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Boolean=context.Boolean,Date=context.Date,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayRef=[],objectProto=Object.prototype,oldDash=context._,toString=objectProto.toString,reNative=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),ceil=Math.ceil,clearTimeout=context.clearTimeout,floor=Math.floor,fnToString=Function.prototype.toString,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,hasOwnProperty=objectProto.hasOwnProperty,push=arrayRef.push,setTimeout=context.setTimeout,splice=arrayRef.splice,unshift=arrayRef.unshift,defineProperty=function(){try{var o={},func=isNative(func=Object.defineProperty)&&func,result=func(o,o,o)&&func}catch(e){}return result}(),nativeCreate=isNative(nativeCreate=Object.create)&&nativeCreate,nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeIsFinite=context.isFinite,nativeIsNaN=context.isNaN,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random,ctorByClass={};ctorByClass[arrayClass]=Array,ctorByClass[boolClass]=Boolean,ctorByClass[dateClass]=Date,ctorByClass[funcClass]=Function,ctorByClass[objectClass]=Object,ctorByClass[numberClass]=Number,ctorByClass[regexpClass]=RegExp,ctorByClass[stringClass]=String,lodashWrapper.prototype=lodash.prototype;var support=lodash.support={};support.funcDecomp=!isNative(context.WinRTError)&&reThis.test(runInContext),support.funcNames="string"==typeof Function.name,lodash.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:reInterpolate,variable:"",imports:{_:lodash}},nativeCreate||(baseCreate=function(){function Object(){}return function(prototype){if(isObject(prototype)){Object.prototype=prototype;var result=new Object;Object.prototype=null}return result||context.Object()}}());var setBindData=defineProperty?function(func,value){descriptor.value=value,defineProperty(func,"__bindData__",descriptor)}:noop,isArray=nativeIsArray||function(value){return value&&"object"==typeof value&&"number"==typeof value.length&&toString.call(value)==arrayClass||!1},shimKeys=function(object){var index,iterable=object,result=[];if(!iterable)return result;if(!objectTypes[typeof object])return result;for(index in iterable)hasOwnProperty.call(iterable,index)&&result.push(index);return result},keys=nativeKeys?function(object){return isObject(object)?nativeKeys(object):[]}:shimKeys,htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},htmlUnescapes=invert(htmlEscapes),reEscapedHtml=RegExp("("+keys(htmlUnescapes).join("|")+")","g"),reUnescapedHtml=RegExp("["+keys(htmlEscapes).join("")+"]","g"),assign=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;var args=arguments,argsIndex=0,argsLength="number"==typeof guard?2:args.length;if(argsLength>3&&"function"==typeof args[argsLength-2])var callback=baseCreateCallback(args[--argsLength-1],args[argsLength--],2);else argsLength>2&&"function"==typeof args[argsLength-1]&&(callback=args[--argsLength]);for(;++argsIndex<argsLength;)if(iterable=args[argsIndex],iterable&&objectTypes[typeof iterable])for(var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;++ownIndex<length;)index=ownProps[ownIndex],result[index]=callback?callback(result[index],iterable[index]):iterable[index];return result},defaults=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;for(var args=arguments,argsIndex=0,argsLength="number"==typeof guard?2:args.length;++argsIndex<argsLength;)if(iterable=args[argsIndex],iterable&&objectTypes[typeof iterable])for(var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;++ownIndex<length;)index=ownProps[ownIndex],"undefined"==typeof result[index]&&(result[index]=iterable[index]);return result},forIn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&"undefined"==typeof thisArg?callback:baseCreateCallback(callback,thisArg,3);for(index in iterable)if(callback(iterable[index],index,collection)===!1)return result;return result},forOwn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&"undefined"==typeof thisArg?callback:baseCreateCallback(callback,thisArg,3);for(var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;++ownIndex<length;)if(index=ownProps[ownIndex],callback(iterable[index],index,collection)===!1)return result;return result},isPlainObject=getPrototypeOf?function(value){if(!value||toString.call(value)!=objectClass)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key]++:result[key]=1}),groupBy=createAggregator(function(result,value,key){(hasOwnProperty.call(result,key)?result[key]:result[key]=[]).push(value)}),indexBy=createAggregator(function(result,value,key){result[key]=value}),pluck=map,where=filter,now=isNative(now=Date.now)&&now||function(){return(new Date).getTime()},parseInt=8==nativeParseInt(whitespace+"08")?nativeParseInt:function(value,radix){return nativeParseInt(isString(value)?value.replace(reLeadingSpacesAndZeros,""):value,radix||0)};return lodash.after=after,lodash.assign=assign,lodash.at=at,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.chain=chain,lodash.compact=compact,lodash.compose=compose,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.createCallback=createCallback,lodash.curry=curry,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.filter=filter,lodash.flatten=flatten,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.functions=functions,lodash.groupBy=groupBy,lodash.indexBy=indexBy,lodash.initial=initial,lodash.intersection=intersection,lodash.invert=invert,lodash.invoke=invoke,lodash.keys=keys,lodash.map=map,lodash.mapValues=mapValues,lodash.max=max,lodash.memoize=memoize,lodash.merge=merge,lodash.min=min,lodash.omit=omit,lodash.once=once,lodash.pairs=pairs,lodash.partial=partial,lodash.partialRight=partialRight,lodash.pick=pick,lodash.pluck=pluck,lodash.property=property,lodash.pull=pull,lodash.range=range,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.shuffle=shuffle,lodash.sortBy=sortBy,lodash.tap=tap,lodash.throttle=throttle,lodash.times=times,lodash.toArray=toArray,lodash.transform=transform,lodash.union=union,lodash.uniq=uniq,lodash.values=values,lodash.where=where,lodash.without=without,lodash.wrap=wrap,lodash.xor=xor,lodash.zip=zip,lodash.zipObject=zipObject,lodash.collect=map,lodash.drop=rest,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.extend=assign,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,lodash.unzip=zip,mixin(lodash),lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.contains=contains,lodash.escape=escape,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.has=has,lodash.identity=identity,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isBoolean=isBoolean,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isNaN=isNaN,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isUndefined=isUndefined,lodash.lastIndexOf=lastIndexOf,lodash.mixin=mixin,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.result=result,lodash.runInContext=runInContext,lodash.size=size,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.template=template,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.all=every,lodash.any=some,lodash.detect=find,lodash.findWhere=find,lodash.foldl=reduce,lodash.foldr=reduceRight,lodash.include=contains,lodash.inject=reduce,mixin(function(){var source={};return forOwn(lodash,function(func,methodName){lodash.prototype[methodName]||(source[methodName]=func)}),source}(),!1),lodash.first=first,lodash.last=last,lodash.sample=sample,lodash.take=first,lodash.head=first,forOwn(lodash,function(func,methodName){var callbackable="sample"!==methodName;lodash.prototype[methodName]||(lodash.prototype[methodName]=function(n,guard){var chainAll=this.__chain__,result=func(this.__wrapped__,n,guard);return chainAll||null!=n&&(!guard||callbackable&&"function"==typeof n)?new lodashWrapper(result,chainAll):result})}),lodash.VERSION="2.4.1",lodash.prototype.chain=wrapperChain,lodash.prototype.toString=wrapperToString,lodash.prototype.value=wrapperValueOf,lodash.prototype.valueOf=wrapperValueOf,forEach(["join","pop","shift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){var chainAll=this.__chain__,result=func.apply(this.__wrapped__,arguments);return chainAll?new lodashWrapper(result,chainAll):result}}),forEach(["push","reverse","sort","unshift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return func.apply(this.__wrapped__,arguments),this}}),forEach(["concat","slice","splice"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return new lodashWrapper(func.apply(this.__wrapped__,arguments),this.__chain__)}}),lodash}var undefined,arrayPool=[],objectPool=[],idCounter=0,keyPrefix=+new Date+"",largeArraySize=75,maxPoolSize=40,whitespace=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reFuncName=/^\s*function[ \n\r\t]+\w/,reInterpolate=/<%=([\s\S]+?)%>/g,reLeadingSpacesAndZeros=RegExp("^["+whitespace+"]*0+(?=.$)"),reNoMatch=/($^)/,reThis=/\bthis\b/,reUnescapedString=/['\n\r\t\u2028\u2029\\]/g,contextProps=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],templateCounter=0,argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",funcClass="[object Function]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]",cloneableClasses={};cloneableClasses[funcClass]=!1,cloneableClasses[argsClass]=cloneableClasses[arrayClass]=cloneableClasses[boolClass]=cloneableClasses[dateClass]=cloneableClasses[numberClass]=cloneableClasses[objectClass]=cloneableClasses[regexpClass]=cloneableClasses[stringClass]=!0;var debounceOptions={leading:!1,maxWait:0,trailing:!1},descriptor={configurable:!1,enumerable:!1,value:null,writable:!1},objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},root=objectTypes[typeof window]&&window||this,freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,freeGlobal=objectTypes[typeof global]&&global;!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal);var _=runInContext();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(root._=_,define(function(){return _})):freeExports&&freeModule?moduleExports?(freeModule.exports=_)._=_:freeExports._=_:root._=_}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);